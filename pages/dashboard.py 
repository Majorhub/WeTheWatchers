import streamlit as st

st.set_page_config(page_title="Representative Profile", layout="wide")

# Get name from query param (for real app, we could use session state or routing)
rep_name = st.query_params.get("name", "Dave Min")
party = "Democratic Party"
state = "CA"
district = "47"
votes = 22
trades = 5
flags = 1

st.title(f"ğŸ§‘â€ğŸ’¼ {rep_name}")
st.markdown(f"**Party:** {party}  \\n**State:** {state}  \\n**District:** {district}")

st.divider()

# Section: Overview
st.subheader("Overview")
st.markdown(f"""
- ğŸ—³ **Votes cast:** {votes}  
- ğŸ’¸ **Stock trades:** {trades}  
- ğŸš© **Conflict flags:** {flags}
""")

# Section: Voting History (mock)
st.subheader("ğŸ—³ Voting History")
st.write("â€¢ Voted YES on HR123 â€“ Defense Spending Increase  ")
st.write("â€¢ Voted NO on HB456 â€“ Crypto Regulation Act")

# Section: Trades (mock)
st.subheader("ğŸ’¸ Recent Trades")
st.write("â€¢ Sold Lockheed Martin before committee vote")
st.write("â€¢ Purchased Coinbase during crypto committee hearings")

# Section: Flags
st.subheader("ğŸš© Conflict Alerts")
st.warning("Potential conflict: Voted on defense bill after trading defense stocks.")
st.warning("Potential conflict: Sat on tech regulation panel after selling tech shares.")

# Back link
st.markdown("[â¬… Back to search](/)")
